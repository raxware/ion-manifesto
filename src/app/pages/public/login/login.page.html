<ion-content [fullscreen]="true">
	<div class="altHeader">
	  <ion-img class="header-image" src="../../assets/logo.png" alt="Header image"></ion-img>
	</div>

	@if (credentials !== undefined) {
		<div class="scene scene--card">
			<div class="card" [class.is-flipped]="isFlipped">

			<div class="card__face front">
				<ion-card>
				<ion-card-content class="whiteBorder inline-self-aligned child-align">
					<ion-card-content class="bgLayer inline-self-aligned child-align">
						<ion-card-content class="contentFull inline-self-aligned">

							<ion-grid [fixed]="true">
								<ion-row class="topRel">
									<p><h1>Welcome!</h1>
								</ion-row>
								<ion-row>
									<ion-col>
										<ion-card-content class="framing">
										<div class="fitPlace">Sign in to</div>
										</ion-card-content>
										<p class="text-custom upSized">manifesto</p>
								  	</ion-col>
								</ion-row>
								<form (ngSubmit)="login()" [formGroup]="credentials">
									<ion-row>
										<ion-col>
											<ion-input type="email" formControlName="email" label="Email" label-placement="floating" fill="outline" placeholder="Enter email" />
											<!--<ion-note slot="error" *ngIf="(email!.dirty || email!.touched) && email!.errors">Email is invalid</ion-note>-->
										</ion-col>
									</ion-row>
									<ion-row><ion-col></ion-col></ion-row>
									<ion-row>
										<ion-col>
											<ion-input #input type="password" formControlName="password" label="Password" label-placement="floating" fill="outline" placeholder="Enter password" />
											<!--<ion-note slot="error" *ngIf="(password!.dirty || password!.touched) && password!.errors">Password needs to be 6 characters</ion-note>-->
										</ion-col>
									</ion-row>
									<ion-row>
										<ion-col><ion-label class="decorated" (click)="doSmthng('reset pwd')">Forgot password?</ion-label></ion-col>
										<ion-col><ion-checkbox class="endOfLine" justify="end" (ionChange)="togglePasswordMode(password?.value)">{{pwdSatusLabel}}</ion-checkbox></ion-col>
									</ion-row>
									<ion-row>
										<ion-col>
											<ion-button type="submit" class="endOfLine">Sign in</ion-button>
										</ion-col>
									</ion-row>
								</form>
							</ion-grid>
			
							<div class="bottomRight">
							<h4> No profile yet?</h4>
							<h4 class="decorated" (click)="flip('wentToBack')">Sign up for an account!</h4>
							</div>
			
						</ion-card-content>
					</ion-card-content>
				</ion-card-content>
				</ion-card>
			</div>

			<div class="card__face back">
				<ion-card>
				<ion-card-content class="whiteBorder inline-self-aligned child-align">
					<ion-card-content class="bgLayer inline-self-aligned child-align">
						<ion-card-content class="contentFull inline-self-aligned">

							<ion-grid [fixed]="true">
								<ion-row class="topRel">
									<p><h1>New user?</h1>
								</ion-row>
								<ion-row>
									<ion-col>
										<ion-card-content class="framing">
										<div class="fitPlace">Sign up to</div>
										</ion-card-content>
										<p class="text-custom upSized">manifesto</p>
								  	</ion-col>
								</ion-row>
								<form [formGroup]="credentials">
									<ion-row>
										<ion-col>
											<ion-input type="email" formControlName="email" label="Email" label-placement="floating" fill="outline" placeholder="Enter email" />
											<!--<ion-note slot="error" *ngIf="(email!.dirty || email!.touched) && email!.errors">Email is invalid</ion-note>-->
										</ion-col>
									</ion-row>
									<ion-row><ion-col></ion-col></ion-row>
									<ion-row>
										<ion-col>
											<ion-input #input type="password" formControlName="password" label="Password" label-placement="floating" fill="outline" placeholder="Enter password" />
											<!--<ion-note slot="error" *ngIf="(password!.dirty || password!.touched) && password!.errors">Password needs to be 6 characters</ion-note>-->
										</ion-col>
									</ion-row>
									<ion-row>
										<ion-col><ion-checkbox class="endOfLine" justify="end" (ionChange)="togglePasswordMode(password?.value)">{{pwdSatusLabel}}</ion-checkbox></ion-col>
									</ion-row>
									<ion-row>
										<ion-col>
											<ion-button type="button" class="endOfLine" (click)="register()">Sign up</ion-button>
										</ion-col>
									</ion-row>
								</form>
							</ion-grid>

							<div class="bottomRight">
							<h4> Already have a profile?</h4>
							<h4 class="decorated" (click)="flip('wentToFront')">Go back and Sign in!</h4>
							</div>
						
						</ion-card-content>
					</ion-card-content>
				</ion-card-content>
				</ion-card>
			</div>
			</div>
		</div>

	}

</ion-content>

<!--
										<ion-card-content class="framing borderR">
										<div class="fitPlace borderB">Sign in to</div>
										</ion-card-content>
										<p class="text-custom sized border">manifesto</p>
-->
